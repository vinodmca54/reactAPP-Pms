{"ast":null,"code":"import _regeneratorRuntime from \"/Users/vinod/pmgs-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/vinod/pmgs-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/vinod/pmgs-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vinod/pmgs-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vinod/pmgs-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vinod/pmgs-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vinod/pmgs-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/vinod/pmgs-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/vinod/pmgs-web/src/components/Layout/SideNav.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, ModalBody } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { OverlayTrigger, Tooltip, Modal } from \"react-bootstrap\";\nimport Registration from \"../../components/Registration/Registration\";\nimport { Link } from \"react-router-dom\";\nimport { PatientRecordContext } from \"../../contexts/PatientRecordContext\";\nexport var SideNav =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SideNav, _Component);\n\n  function SideNav(props, context) {\n    var _this;\n\n    _classCallCheck(this, SideNav);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SideNav).call(this, props, context));\n\n    _this.updateRecord = function (record) {\n      _this.state.records.unshift(record);\n\n      _this.setState({\n        records: _this.state.records\n      });\n    };\n\n    _this.searchText = function (e) {\n      if (!e.target.value) {\n        _this.setState({\n          records: _this.patientRecords\n        });\n\n        return;\n      }\n\n      var updatedList = _this.state.records.filter(function (record) {\n        return record.name.toLowerCase().includes(e.target.value.toLowerCase());\n      });\n\n      _this.setState({\n        records: updatedList\n      });\n    };\n\n    _this.handleShow = _this.handleShow.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      show: false\n    };\n    return _this;\n  }\n\n  _createClass(SideNav, [{\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        show: false\n      });\n    }\n  }, {\n    key: \"handleShow\",\n    value: function handleShow() {\n      this.setState({\n        show: true\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"http://localhost:8081/api/registration\", {\n                  method: \"GET\",\n                  headers: {\n                    Accept: \"application/json\",\n                    \"Content-Type\": \"application/json\",\n                    \"Access-Control-Origin\": \"*\"\n                  }\n                });\n\n              case 2:\n                response = _context.sent;\n                _context.next = 5;\n                return response.json();\n\n              case 5:\n                this.patientRecords = _context.sent;\n                this.setState({\n                  records: this.patientRecords\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var records = this.state.records;\n      return React.createElement(PatientRecordContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, function (_ref) {\n        var id = _ref.id;\n        return React.createElement(\"div\", {\n          className: \"leftPanel\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(Form, {\n          noValidate: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(Form.Group, {\n          className: \"searchBox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          required: true,\n          name: \"searchText\",\n          type: \"search\",\n          onChange: _this2.searchText,\n          placeholder: \"Search...\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }), React.createElement(OverlayTrigger, {\n          overlay: React.createElement(Tooltip, {\n            id: \"tooltip-disabled\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }, \"Register Patient\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"d-inline-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(FontAwesomeIcon, {\n          icon: [\"fas\", \"user-plus\"],\n          onClick: _this2.handleShow,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }))), React.createElement(Modal, {\n          size: \"lg\",\n          show: _this2.state.show,\n          onHide: _this2.handleClose,\n          centered: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(Modal.Header, {\n          closeButton: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(Modal.Title, {\n          id: \"contained-modal-title-vcenter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Patient Registration\")), React.createElement(ModalBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(Registration, {\n          modalClose: _this2.handleClose,\n          history: _this2.props.history,\n          update: _this2.updateRecord,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }))))), React.createElement(\"div\", {\n          className: \"search-list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, records && records.map(function (record, key) {\n          return React.createElement(Link, {\n            key: key,\n            to: \"/home/\".concat(record._id),\n            className: record._id === id ? \"active-select\" : \"\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, record.name);\n        })));\n      });\n    }\n  }]);\n\n  return SideNav;\n}(Component);\nexport default withRouter(SideNav);","map":{"version":3,"sources":["/Users/vinod/pmgs-web/src/components/Layout/SideNav.js"],"names":["React","Component","withRouter","Form","ModalBody","FontAwesomeIcon","OverlayTrigger","Tooltip","Modal","Registration","Link","PatientRecordContext","SideNav","props","context","updateRecord","record","state","records","unshift","setState","searchText","e","target","value","patientRecords","updatedList","filter","name","toLowerCase","includes","handleShow","bind","handleClose","show","fetch","method","headers","Accept","response","json","id","history","map","key","_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, ModalBody } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { OverlayTrigger, Tooltip, Modal } from \"react-bootstrap\";\nimport Registration from \"../../components/Registration/Registration\";\nimport { Link } from \"react-router-dom\";\nimport { PatientRecordContext } from \"../../contexts/PatientRecordContext\";\n\nexport class SideNav extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.state = {\n      show: false\n    };\n  }\n  handleClose() {\n    this.setState({ show: false });\n  }\n  handleShow() {\n    this.setState({ show: true });\n  }\n  updateRecord = record => {\n    this.state.records.unshift(record);\n    this.setState({ records: this.state.records });\n  };\n  searchText = e => {\n    if (!e.target.value) {\n      this.setState({ records: this.patientRecords });\n      return;\n    }\n    const updatedList = this.state.records.filter(record =>\n      record.name.toLowerCase().includes(e.target.value.toLowerCase())\n    );\n    this.setState({ records: updatedList });\n  };\n  async componentDidMount() {\n    let response = await fetch(\"http://localhost:8081/api/registration\", {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Origin\": \"*\"\n      }\n    });\n    this.patientRecords = await response.json();\n    this.setState({ records: this.patientRecords });\n  }\n\n  render() {\n    const { records } = this.state;\n    return (\n      <PatientRecordContext.Consumer>\n        {({ id }) => {\n          return (\n            <div className=\"leftPanel\">\n              <Form noValidate>\n                <Form.Group className=\"searchBox\">\n                  <Form.Control\n                    required\n                    name=\"searchText\"\n                    type=\"search\"\n                    onChange={this.searchText}\n                    placeholder=\"Search...\"\n                  />\n                  <OverlayTrigger\n                    overlay={\n                      <Tooltip id=\"tooltip-disabled\">Register Patient</Tooltip>\n                    }\n                  >\n                    <span className=\"d-inline-block\">\n                      <FontAwesomeIcon\n                        icon={[\"fas\", \"user-plus\"]}\n                        onClick={this.handleShow}\n                      />\n                    </span>\n                  </OverlayTrigger>\n                  <Modal\n                    size=\"lg\"\n                    show={this.state.show}\n                    onHide={this.handleClose}\n                    centered\n                  >\n                    <Modal.Header closeButton>\n                      <Modal.Title id=\"contained-modal-title-vcenter\">\n                        Patient Registration\n                      </Modal.Title>\n                    </Modal.Header>\n                    <ModalBody>\n                      <Registration\n                        modalClose={this.handleClose}\n                        history={this.props.history}\n                        update={this.updateRecord}\n                      />\n                    </ModalBody>\n                  </Modal>\n                </Form.Group>\n              </Form>\n\n              <div className=\"search-list\">\n                {records &&\n                  records.map((record, key) => {\n                    return (\n                      <Link\n                        key={key}\n                        to={`/home/${record._id}`}\n                        className={record._id === id ? \"active-select\" : \"\"}\n                      >\n                        {record.name}\n                      </Link>\n                    );\n                  })}\n              </div>\n            </div>\n          );\n        }}\n      </PatientRecordContext.Consumer>\n    );\n  }\n}\nexport default withRouter(SideNav);\n"]},"metadata":{},"sourceType":"module"}